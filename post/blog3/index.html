<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title> | Hugo Theme Dream</title>

    



<meta name="author" content="Greenhand818" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.79.0" />

<link rel="canonical" href="https://greenhand818.github.io/post/blog3/" />


<meta property="og:title" content="" />
<meta property="og:description" content="JavaWeb 1 Maven  导包，通过本地仓库管理jar包  2 Tomcat 3 Servlet ** Java爬虫 1 HttpClient(Http协议) 1 Get请求 public static void main(String[] args) { //创建httpClient对象  CloseableHttpClient httpClient = HttpClients.createDefault(); //创建httpGet get请求对象  HttpGet httpGet = new HttpGet(&#34;http://www.baidu.com&#34;); CloseableHttpResponse response = null; try { //获得响应（包含数据）  response = httpClient.execute(httpGet); if(response.getStatusLine().getStatusCode() == 200){ String content = EntityUtils.toString(response.getEntity()); System.out.println(content.length()); } } catch (IOException e) { e.printStackTrace(); }finally {	//善后：关闭连接  try { response.close(); } catch (IOException e) { e." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://greenhand818.github.io/post/blog3/" />




<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="JavaWeb 1 Maven  导包，通过本地仓库管理jar包  2 Tomcat 3 Servlet ** Java爬虫 1 HttpClient(Http协议) 1 Get请求 public static void main(String[] args) { //创建httpClient对象  CloseableHttpClient httpClient = HttpClients.createDefault(); //创建httpGet get请求对象  HttpGet httpGet = new HttpGet(&#34;http://www.baidu.com&#34;); CloseableHttpResponse response = null; try { //获得响应（包含数据）  response = httpClient.execute(httpGet); if(response.getStatusLine().getStatusCode() == 200){ String content = EntityUtils.toString(response.getEntity()); System.out.println(content.length()); } } catch (IOException e) { e.printStackTrace(); }finally {	//善后：关闭连接  try { response.close(); } catch (IOException e) { e."/>


<link rel="stylesheet" href="/css/semantic.min.css" />
<link rel="stylesheet" href="/css/icomoon.css" />
<link rel="stylesheet" href="/css/OverlayScrollbars.min.css" />
<link rel="stylesheet" href="/css/github-markdown.css" />
<link rel="stylesheet" href="/css/site.css" />

<style>
  a:hover {
    text-decoration: underline; 
  }

  
  a {
    color: seagreen !important;
  }
  

  
  .inverted a,
  .inverted a:hover {
     color: darkseagreen !important;
  }
  

  
  body.default {
    
    background-color: black;
    

    
    background-image: url(/me/background.jpg);
    
  }
  

  
</style>

    






  </head>

  <body class="default">
    
<nav class="ui secondary inverted menu dream-menu">

  <div class="item">
    <i class="large link bullseye icon dream-flip-toggle" title="Flip it!"></i>
  </div>
  <div class="item">
    <i class="large link home icon" title="Home" onclick="window.location.href = 'https:\/\/greenhand818.github.io\/'"></i>
  </div>
  <div class="item">
    <i class="large link icon theme-switch" onclick="themeSwitch()"></i>
  </div>
  
</nav>

    <div class="flip-container">
      <div class="flipper">
        <section class="front">
          <div class="dream-max-width">
            
<div class="ui centered relaxed grid dream-grid">
  <div class="sixteen wide mobile sixteen wide tablet twelve wide computer column markdown-body dream-single" id="dream-save-post-as-img">
    
    <section class="ui top attached segment">
      <header>
        <h1 class="ui large header">
          
          <div class="sub header">
            @
            
              Greenhand818
            

            | 
                Monday, Jan 1, 0001
              

            | 2 minute read

            | Update at
              
                Monday, Jan 1, 0001
              
          </div>
        </h1>
      </header>

      <article class="main"><h1 id="javaweb">JavaWeb</h1>
<h2 id="1-maven">1 Maven</h2>
<ul>
<li>导包，通过本地仓库管理jar包</li>
</ul>
<h2 id="2-tomcat">2 Tomcat</h2>
<h2 id="3-servlet">3 Servlet</h2>
<h1 id="-java爬虫">** Java爬虫</h1>
<h1 id="1-httpclienthttp协议">1 HttpClient(Http协议)</h1>
<h3 id="1-get请求">1 Get请求</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    	<span style="color:#75715e">//创建httpClient对象
</span><span style="color:#75715e"></span>        CloseableHttpClient httpClient <span style="color:#f92672">=</span> HttpClients<span style="color:#f92672">.</span><span style="color:#a6e22e">createDefault</span><span style="color:#f92672">();</span>
    	<span style="color:#75715e">//创建httpGet get请求对象
</span><span style="color:#75715e"></span>        HttpGet httpGet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpGet<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;http://www.baidu.com&#34;</span><span style="color:#f92672">);</span>
        CloseableHttpResponse response <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">//获得响应（包含数据）
</span><span style="color:#75715e"></span>            response <span style="color:#f92672">=</span> httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>httpGet<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getStatusLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getStatusCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 200<span style="color:#f92672">){</span>
                String content <span style="color:#f92672">=</span> EntityUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getEntity</span><span style="color:#f92672">());</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>content<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>								<span style="color:#75715e">//善后：关闭连接
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                response<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>
<p>HttpGet(URI类)</p>
</li>
<li>
<p>URIBuilder类方法：</p>
<p>URIBuilder uriBuilder = new URIBuilder(string:&ldquo;<a href="http://yun.itheima.com/search%22">http://yun.itheima.com/search&quot;</a>)</p>
<p>uriBuilder.setParameter(param: , value: )</p>
<p>HttpGet httpGet = new HttpGet(uriBuilder.build())</p>
</li>
</ul>
<h3 id="2-post请求">2 Post请求</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        CloseableHttpClient httpClient <span style="color:#f92672">=</span> HttpClients<span style="color:#f92672">.</span><span style="color:#a6e22e">createDefault</span><span style="color:#f92672">();</span>
        HttpPost httpPost <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpPost<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;http://www.baidu.com&#34;</span><span style="color:#f92672">);</span>
        CloseableHttpResponse response <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            response <span style="color:#f92672">=</span> httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>httpPost<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getStatusLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getStatusCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 200<span style="color:#f92672">){</span>
                String content <span style="color:#f92672">=</span> EntityUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getEntity</span><span style="color:#f92672">());</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>content<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                response<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>
<p>可以用<strong>UrlEncodedFormEntity</strong>和<strong>List</strong><!-- raw HTML omitted -->将URL中的参数项封装成表单：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        CloseableHttpClient httpClient <span style="color:#f92672">=</span> HttpClients<span style="color:#f92672">.</span><span style="color:#a6e22e">createDefault</span><span style="color:#f92672">();</span>
  
        HttpPost httpPost <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpPost<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;http://yun.itheima.com&#34;</span><span style="color:#f92672">);</span>
      <span style="color:#75715e">//List封装成可滚动的文本项列表
</span><span style="color:#75715e"></span>        List<span style="color:#f92672">&lt;</span>NameValuePair<span style="color:#f92672">&gt;</span> params <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
        params<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> BasicNameValuePair<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;keys&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">));</span>
      <span style="color:#75715e">//UrlEncodedFormEntity封装成表单
</span><span style="color:#75715e"></span>        UrlEncodedFormEntity formEntity <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> UrlEncodedFormEntity<span style="color:#f92672">(</span>params<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;utf8&#34;</span><span style="color:#f92672">);</span>
        httpPost<span style="color:#f92672">.</span><span style="color:#a6e22e">setEntity</span><span style="color:#f92672">(</span>formEntity<span style="color:#f92672">);</span>
  		
        CloseableHttpResponse response <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            response <span style="color:#f92672">=</span> httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>httpPost<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getStatusLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getStatusCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 200<span style="color:#f92672">){</span>
                String content <span style="color:#f92672">=</span> EntityUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getEntity</span><span style="color:#f92672">());</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>content<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                response<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div></li>
</ul>
<h3 id="3-连接池加快多次请求的速度不用关闭httpclient">3 连接池(加快多次请求的速度,<em>不用关闭httpClient</em>)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      <span style="color:#75715e">//创建连接池管理器
</span><span style="color:#75715e"></span>        PoolingHttpClientConnectionManager cm <span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> PoolingHttpClientConnectionManager<span style="color:#f92672">();</span>
      <span style="color:#75715e">//设置最大连接数
</span><span style="color:#75715e"></span>        cm<span style="color:#f92672">.</span><span style="color:#a6e22e">setMaxTotal</span><span style="color:#f92672">(</span>100<span style="color:#f92672">);</span>
      <span style="color:#75715e">//设置一台主机的最大连接数
</span><span style="color:#75715e"></span>        cm<span style="color:#f92672">.</span><span style="color:#a6e22e">setDefaultMaxPerRoute</span><span style="color:#f92672">(</span>10<span style="color:#f92672">);</span>
      
        doGet<span style="color:#f92672">(</span>cm<span style="color:#f92672">);</span>
        doGet<span style="color:#f92672">(</span>cm<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>


<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>PoolingHttpClientConnectionManager cm<span style="color:#f92672">){</span>
        CloseableHttpClient httpClient <span style="color:#f92672">=</span> 				                             HttpClients<span style="color:#f92672">.</span><span style="color:#a6e22e">custom</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setConnectionManager</span><span style="color:#f92672">(</span>cm<span style="color:#f92672">).</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>	  <span style="color:#75715e">//从连接池管理器取一个httpClient
</span><span style="color:#75715e"></span>        
      HttpGet httpGet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpGet<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;http://www.baidu.com&#34;</span><span style="color:#f92672">);</span>
        CloseableHttpResponse response <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            response <span style="color:#f92672">=</span> httpClient<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>httpGet<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getStatusLine</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getStatusCode</span><span style="color:#f92672">()==</span>200<span style="color:#f92672">){</span>
                String content <span style="color:#f92672">=</span> EntityUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getEntity</span><span style="color:#f92672">());</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>content<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>response <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">){</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    response<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>

        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div><h3 id="4-http请求configure配置信息">4 http请求configure配置信息</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//配置请求信息
</span><span style="color:#75715e"></span>RequestConfig config <span style="color:#f92672">=</span> RequestConfig<span style="color:#f92672">.</span><span style="color:#a6e22e">custom</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setConnectTimeout</span><span style="color:#f92672">(</span>1000<span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">setConnectionRequestTimeout</span><span style="color:#f92672">(</span>500<span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">setSocketTimeout</span><span style="color:#f92672">(</span>10<span style="color:#f92672">*</span>1000<span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>

httpGet<span style="color:#f92672">.</span><span style="color:#a6e22e">setConfig</span><span style="color:#f92672">(</span>config<span style="color:#f92672">);</span>

</code></pre></div><h1 id="2-解析数据">2 解析数据</h1>
<h3 id="1-jsoup解析">1 Jsoup解析</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">1 Document doc <span style="color:#f92672">=</span> Jsoup<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span>html<span style="color:#f92672">/</span>URL<span style="color:#f92672">:,</span>timeoutMills<span style="color:#f92672">:)</span>
   URL<span style="color:#f92672">:</span><span style="color:#66d9ef">new</span> URL<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;http://www.baiidu.com&#34;</span><span style="color:#f92672">)</span>
2 Document doc <span style="color:#f92672">=</span> Jsoup<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span>string<span style="color:#f92672">:</span> <span style="color:#f92672">)</span>
3 Document doc <span style="color:#f92672">=</span> Jsoup<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>pathname<span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">),</span>charsetname<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;utf8&#34;</span><span style="color:#f92672">)</span>
</code></pre></div><h3 id="2-dom方式遍历文档获取元素element">2 dom方式遍历文档(获取元素element)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">1 doc<span style="color:#f92672">.</span><span style="color:#a6e22e">getElementsByTag</span><span style="color:#f92672">(</span>tag<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">first</span><span style="color:#f92672">()</span>         
2 doc<span style="color:#f92672">.</span><span style="color:#a6e22e">getElementById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>										<span style="color:#75715e">//括号中是key：id的value
</span><span style="color:#75715e"></span>3 doc<span style="color:#f92672">.</span><span style="color:#a6e22e">getElementsByClass</span><span style="color:#f92672">(</span>class<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">last</span><span style="color:#f92672">()</span>
4 doc<span style="color:#f92672">.</span><span style="color:#a6e22e">getElementsByAttribute</span><span style="color:#f92672">(</span>key<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)(</span>key<span style="color:#f92672">:</span>例如class<span style="color:#960050;background-color:#1e0010">，</span>id<span style="color:#f92672">)</span>
5 doc<span style="color:#f92672">.</span><span style="color:#a6e22e">getElementsByAttributeValue</span><span style="color:#f92672">(</span>key<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span>value<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>
</code></pre></div><h3 id="3-从元素中获取数据返回string">3 从元素中获取数据返回String</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java">1 element<span style="color:#f92672">.</span><span style="color:#a6e22e">id</span><span style="color:#f92672">();</span> 
2 element<span style="color:#f92672">.</span><span style="color:#a6e22e">className</span><span style="color:#f92672">();</span>     Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>classSet <span style="color:#f92672">=</span> element<span style="color:#f92672">.</span><span style="color:#a6e22e">classNames</span><span style="color:#f92672">();</span>
3 element<span style="color:#f92672">.</span><span style="color:#a6e22e">attr</span><span style="color:#f92672">(</span>attributeKey<span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">);</span>
4 Attributes attribute <span style="color:#f92672">=</span> element<span style="color:#f92672">.</span><span style="color:#a6e22e">attributes</span><span style="color:#f92672">();</span>				<span style="color:#75715e">//获取所有元素及其value
</span><span style="color:#75715e"></span>  String str <span style="color:#f92672">=</span> attribute<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">();</span>
5 String str <span style="color:#f92672">=</span> element<span style="color:#f92672">.</span><span style="color:#a6e22e">text</span><span style="color:#f92672">();</span>
</code></pre></div><h3 id="4-selector选择器docselect">4 Selector选择器(doc.select())</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">1 Elements elements <span style="color:#f92672">=</span> doc<span style="color:#f92672">.</span><span style="color:#a6e22e">select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;标签名&#34;</span><span style="color:#f92672">)</span>		<span style="color:#75715e">//&lt;span class = class_a&gt;...&lt;/span&gt;中的span
</span><span style="color:#75715e"></span>2 Elements elements <span style="color:#f92672">=</span> doc<span style="color:#f92672">.</span><span style="color:#a6e22e">select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;#id&#34;</span><span style="color:#f92672">)</span>
3 Elements elements <span style="color:#f92672">=</span> doc<span style="color:#f92672">.</span><span style="color:#a6e22e">select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;.class&#34;</span><span style="color:#f92672">)</span>
4 Elements elements <span style="color:#f92672">=</span> doc<span style="color:#f92672">.</span><span style="color:#a6e22e">select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;[attribute]&#34;</span><span style="color:#f92672">)</span>
</code></pre></div></article>
    </section>

    <footer class="ui attached segment dream-tags" data-html2canvas-ignore>
      
          <a class="ui label">No Tags</a>
      
      <div
        class="ui label"
        style="float: right; cursor: pointer;"
        onclick="savePostAsImg()">
        <i class="save icon"></i>Save as image
      </div>
    </footer>

    

    
    
    

    

  </div>
  <aside class="sixteen wide mobile sixteen wide tablet four wide computer column dream-single-aside">
    
    
      <div class="ui segment toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-maven">1 Maven</a></li>
    <li><a href="#2-tomcat">2 Tomcat</a></li>
    <li><a href="#3-servlet">3 Servlet</a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#1-get请求">1 Get请求</a></li>
        <li><a href="#2-post请求">2 Post请求</a></li>
        <li><a href="#3-连接池加快多次请求的速度不用关闭httpclient">3 连接池(加快多次请求的速度,<em>不用关闭httpClient</em>)</a></li>
        <li><a href="#4-http请求configure配置信息">4 http请求configure配置信息</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#1-jsoup解析">1 Jsoup解析</a></li>
        <li><a href="#2-dom方式遍历文档获取元素element">2 dom方式遍历文档(获取元素element)</a></li>
        <li><a href="#3-从元素中获取数据返回string">3 从元素中获取数据返回String</a></li>
        <li><a href="#4-selector选择器docselect">4 Selector选择器(doc.select())</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    

    <article class="dream-header">
  <section class="ui top attached center aligned segment">
    <div class="ui small circular image">
      
        <img src="/img/avatar.jpg">
      
    </div>

    
    <h1 class="ui medium header">
    
      Greenhand818&#39;s blog
      <div class="sub header" style="margin-top: 0.5rem;">Motto</div>
    
    </h1>
    

    <div class="ui horizontal list">
      
      <a class="item" href="/tags">
        <i class="tags icon" title="All Tags"></i>
      </a>
      <a class="item" href="/categories">
        <i class="th list icon" title="All Categories"></i>
      </a>
    </div>
  </section>

  

  

  <section class="ui attached segment header-socials">
    <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:g1enyy0ung@gmail.com">
        <i class=" mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  

  

  

  
</nav>

  </section>

  <section class="ui bottom attached center aligned segment">
    
      <p>© 2016 - 2021 Hugo Theme Dream</p>
    

    <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</p>

    
  </section>
</article>

  </aside>
</div>

          </div>
        </section>
        <section class="back">
          <div class="dream-max-width">
            <div class="ui centered relaxed grid dream-grid dream-back">
  
  
  

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    <article>
      <div class="ui top attached segment">
        <h3 class="ui header">Social Links</h3>
      </div>
      <div class="ui bottom attached segment">
        <nav class="ui secondary menu dream-menu dream-socials">
  
  
    <div class="item">
      <a href="mailto:g1enyy0ung@gmail.com">
        <i class="large mail icon" title="Email"></i>
      </a>
    </div>
  

  

  

  

  

  

  

  

  
</nav>

      </div>
    </article>
  </section>

  <section class="sixteen wide mobile eight wide tablet four wide computer column dream-column">
    
  </section>

  
    
  
</div>

          </div>
        </section>
      </div>
    </div>

    <script>
  window.backgroundDark =  null 
  window.backgroundImageDark =  null 
  window.darkNav =  true 
  window.hasTwitterEmbed =  null 

  if (window.hasTwitterEmbed) {
    
    window.twttr = (function (d, s, id) {
      var js,
        fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {}
      if (d.getElementById(id)) return t
      js = d.createElement(s)
      js.id = id
      js.src = 'https://platform.twitter.com/widgets.js'
      fjs.parentNode.insertBefore(js, fjs)

      t._e = []
      t.ready = function (f) {
        t._e.push(f)
      }

      return t
    })(document, 'script', 'twitter-wjs')
  }
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/semantic.min.js"></script>
<script src="/js/jquery.overlayScrollbars.min.js"></script>
<script src="/js/header.js"></script>
<script src="/js/main.js"></script>
<script src="/js/theme.js"></script>

    
<script src="/js/html2canvas.min.js"></script>
<script src="/js/post.js"></script>





    

    
  </body>
</html>
